workflow:
  rules:
    - changes:
        - docs/**/*
        - mkdocs.yml
        - requirements-docs.txt
        - .gitlab-ci.yml
    - when: never

image: python:3.12

pages:
  stage: deploy
  before_script:
    - pip install -r requirements-docs.txt
  script:
    - mkdocs build --strict --site-dir public
  artifacts:
    paths: [public]